<div class="dashboard-container">
  <div class="dashboard">
    <div><%- include("./partials/message.ejs") %></div>
    <div class="mt-4 mb-4 dashboard-header">
      <div class="p-3">
        <h1>Dashboard</h1>
        <p>Welcome <%= username %></p>
      </div>
      <div class="dashboard-user pt-3">
        <i class="fa-solid fa-user"></i>
      </div>
    </div>
    <div class="menue-container">
      <div class="p-2 mydata-container">
        <div class="d-flex justify-content-between">
          <h4>MY DATA</h4>
          <div class="menue-close">
            <i class="fa-solid fa-xmark"></i>
          </div>
        </div>
        <div class="mydata-details pt-2">
          <div>
            <p><strong>User ID:</strong></p>
            <p><strong>Firstname:</strong></p>
            <p><strong>Lastname:</strong></p>
            <p><strong>Email:</strong></p>
            <p><strong>Registered:</strong></p>
          </div>
          <div>
            <p><%= user.userID %></p>
            <p><%= user.firstname %></p>
            <p><%= user.lastname %></p>
            <p><%= user.email %></p>
            <p><%= user.date %></p>
          </div>
        </div>
        <div class="logout">
          <a href="/users/logout" class="btn btn-secondary">Logout</a>
        </div>
      </div>
    </div>
    <div class="dashboard-stories">
      <div class="stories-ctrl-container">
        <h4>MY STORIES</h4>
        <div class="stories-control">
          <a href="/stories/new" class="btn btn-secondary btn-story-new text-nowrap">New Story</a>
        </div>
      </div>
      <div class="stories-container">
        <% if(user.stories.length === 0) {%>
        <p>No stories yet!</p>
        <%} else { user.stories.map((s) => { %>
        <div class="story">
          <input type="hidden" id="story-id" name="storyID" value="<%= s.id %>" />
          <h5><%=s.title %></h5>
          <div class="story-details">
            <p class="mt-3"><%=s.description %></p>
          </div>
          <div class="d-flex justify-content-between gap" style="gap: 0.3rem">
            <div class="story-timestamp mt-auto">
              Created:<br />
              <span><%= s.formattedCreated %></span>
            </div>
            <div>
              <a
                class="story-link btn btn-secondary"
                href="/stories/details?story=<%=s.id %>&title=<%=s.title%>&desc=<%=s.description %>&lastmodified=<%=s.formattedUpdated %>"
                >Details
              </a>
              <button class="btn btn-secondary btn-delete">Delete</button>
            </div>
          </div>
        </div>
        <% });} %>
      </div>
    </div>
  </div>
</div>
